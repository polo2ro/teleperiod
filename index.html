<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Teleperiod sample</title>
        <link rel="stylesheet" type="text/css" href="styles/teleperiod.css">

        <script type="text/javascript" src="bower_components/d3/d3.min.js"></script>
        <script type="text/javascript" src="src/timespan-boundary.js"></script>
        <script type="text/javascript" src="src/teleperiod.js"></script>
        <script type="text/javascript" src="src/timeline.js"></script>
    </head>

    <body>
        <svg id="teleperiod_placeholder"></svg>

        <script type="text/javascript">
            var teleperiod = new teleperiod({
                object: d3.select('#teleperiod_placeholder'),
                workingtimes: function(interval) {
                    var workingtimes = [];
                    var loop = new Date(interval.from);
                    while (loop.getTime() < interval.to.getTime()) {

                        if (loop.getDay() != 0 && loop.getDay() != 6) {

                            var am = {};
                            var pm = {};

                            am.dtstart = new Date(loop);
                            am.dtstart.setHours(9, 0, 0);

                            am.dtend = new Date(loop);
                            am.dtend.setHours(12, 0, 0);

                            pm.dtstart = new Date(loop);
                            pm.dtstart.setHours(13, 0, 0);

                            pm.dtend = new Date(loop);
                            pm.dtend.setHours(18, 0, 0);

                            workingtimes.push(am);
                            workingtimes.push(pm);
                        }

                        loop.setDate(loop.getDate() + 1);
                    }

                    return workingtimes;
                }
            });

            teleperiod.setSize();
            teleperiod.createMain();
        </script>
    </body>
</html>
